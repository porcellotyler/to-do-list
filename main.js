(()=>{"use strict";function t(t){for(let e=1;e<t.length;e++){let n=document.getElementById("content"),i=document.createElement("div");i.classList.add("toDoItemCard"),n.append(i);let o=e;t[e].id=o;let l=document.createElement("div");l.setAttribute("class","title"),l.innerText=`${t[e].title}`,i.append(l);let c=document.createElement("div");c.setAttribute("class","dueDate"),c.innerText=`Due: ${t[e].dueDate}`,i.append(c);let u=document.createElement("div");u.setAttribute("class",`priority-${t[e].priority}`),u.innerText=`${t[e].priority}`,i.append(u);let s=document.createElement("input");s.type="checkbox",s.setAttribute("class","checkbox"),i.append(s);let m=document.createElement("div");m.setAttribute("class","description"),m.innerText=`${t[e].description}`,i.append(m);let a=document.createElement("button");a.setAttribute("id","deleteButton"),a.setAttribute("class",`item-${e}`),a.innerText="X",a.onclick=()=>{d(e,t[e].list);let i=a.parentNode;n.removeChild(i)},i.append(a)}}let e=["mainToDoList"],n=["todayList"],i=["upcomingList"],o=["garbage"],l=[];function d(t,e){for(let n=0;n<l.length;n++)if(l[n].includes(e)){let e=l[n].filter((e=>e.id===t));l[n].splice(t,1),e.list="garbage",o.push(e)}}function c(t,e,n,i,o){this.title=t,this.dueDate=e,this.priority=n,this.description=i,this.list=o,this.id=""}l.push(e,n,i,o),document.getElementById("addButton").onclick=()=>{!function(){const e=document.getElementById("content"),n=document.createElement("div");n.innerHTML='<div class="modalContent"> <input type="text" id="title" name="title" value="title?"/> <input type="datetime-local" id="dueDate" name="dueDate" value="when?"/> <select name="prioritySelect" id="prioritySelect"> <option value="">--Set Priority--</option> <option value="low">Low</option> <option value="mid">Mid</option> <option value="high">High</option> </select> <input type="text" id="description" name="description" value="description?"/>  <select name="listID" id="listID"> <option value="">--Pick a list--</option> <option value="mainToDoList">All tasks</option> <option value="todayList">Today</option> <option value="upcomingList">Upcoming</option> </select> <button id="create">Create</button> </div>',n.setAttribute("class","modal"),e.prepend(n),document.getElementById("create").onclick=function(){let i=new c(document.getElementById("title").value,document.getElementById("dueDate").value,document.getElementById("prioritySelect").value,document.getElementById("description").value,document.getElementById("listID").value);return e.removeChild(n),function(e){for(let n=0;n<l.length;n++)if(e.list==l[n][0]){l[n].push(e);let i=document.getElementById("content");for(;i.firstChild;)i.removeChild(i.firstChild);t(l[n])}else"garbage"===e.list&&o.push(e)}(i)}}()},document.getElementById("allTasks").onclick=()=>{!function(){let n=document.getElementById("content");for(;n.firstChild;)n.removeChild(n.firstChild);t(e)}()},document.getElementById("today").onclick=()=>{!function(){let e=document.getElementById("content");for(;e.firstChild;)e.removeChild(e.firstChild);t(n)}()},document.getElementById("upcoming").onclick=()=>{!function(){let e=document.getElementById("content");for(;e.firstChild;)e.removeChild(e.firstChild);t(i)}()},document.getElementById("createList").onclick=()=>{!function(){const t=document.getElementById("content"),e=document.createElement("div");e.innerHTML='<div class="modalContent"> <input type="text" id="customName" name="customName" value="Name of Custom List"/> <button id="addNewList">Create List</button> </div>',e.setAttribute("class","modal"),t.prepend(e),document.getElementById("addNewList").onclick=function(){let n=document.getElementById("customName").value;return t.removeChild(e),function(t){t=new Array(t),l.push(t);let e=document.createElement("div");e.setAttribute("class","customArray"),e.innerText=`${t}`;let n=document.createElement("img");n.src="/img/customList.svg",e.prepend(n),document.getElementById("upcoming").append(e)}(n)}}()}})();